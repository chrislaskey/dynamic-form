<!DOCTYPE html>
<html lang="en" class="[scrollbar-gutter:stable]">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="csrf-token" content={get_csrf_token()} />
    <title>DynamicForm Library Test</title>
    <link phx-track-static rel="stylesheet" href={~p"/assets/app.css"} />
    <script defer phx-track-static type="text/javascript" src={~p"/assets/app.js"}>
    </script>
  </head>
  <body class="bg-white antialiased">
    <div class="container mx-auto px-4 py-8">
      <h1 class="text-4xl font-bold text-gray-900 mb-8">DynamicForm Library Test</h1>

      <div class="bg-green-50 border border-green-200 rounded-lg p-6 mb-6">
        <h2 class="text-2xl font-semibold text-green-900 mb-4">✓ Library Status</h2>
        <p class="text-green-700">
          <strong>Library Message:</strong> {inspect(@test_instance)}
        </p>
      </div>

      <div class="bg-blue-50 border border-blue-200 rounded-lg p-6">
        <h2 class="text-2xl font-semibold text-blue-900 mb-4">Test Instance</h2>
        <dl class="space-y-2">
          <div>
            <dt class="font-semibold text-blue-900">ID:</dt>
            <dd class="text-blue-700">{@test_instance.id}</dd>
          </div>
          <div>
            <dt class="font-semibold text-blue-900">Name:</dt>
            <dd class="text-blue-700">{@test_instance.name}</dd>
          </div>
          <div>
            <dt class="font-semibold text-blue-900">Description:</dt>
            <dd class="text-blue-700">{@test_instance.description}</dd>
          </div>
          <div>
            <dt class="font-semibold text-blue-900">Fields:</dt>
            <dd class="text-blue-700">{length(@test_instance.fields)} fields</dd>
          </div>
        </dl>
      </div>

      <div class="mt-8 p-4 bg-gray-50 border border-gray-200 rounded-lg">
        <h3 class="text-lg font-semibold text-gray-900 mb-4">Quick Links</h3>
        <div class="space-y-2">
          <a
            href="/form-test"
            class="inline-flex items-center rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
          >
            View Dynamic Form Test →
          </a>
        </div>
      </div>

      <div class="mt-8 p-4 bg-gray-50 border border-gray-200 rounded-lg">
        <h3 class="text-lg font-semibold text-gray-900 mb-2">Hot Reload Test Instructions</h3>
        <ol class="list-decimal list-inside space-y-2 text-gray-700">
          <li>Keep this page open in your browser</li>
          <li>
            Edit <code class="bg-gray-200 px-1 rounded">/lib/dynamic_form.ex</code>
            and change a module
          </li>
          <li>Save the file and refresh this page</li>
          <li>You should see the updated message above without restarting the server</li>
        </ol>
      </div>
    </div>
  </body>
</html>
